{"version":3,"file":"main.js","mappings":"yBAAe,MAAMA,EACnB,WAAAC,CAAYC,GACVC,KAAKD,IAAMA,CACb,CAEA,SAAME,CAAIC,GACR,MAAMC,QAAiBC,MAAM,GAAGJ,KAAKD,4BAA4BG,KACjE,OAAwB,MAApBC,EAASE,QAAkBL,KAAKM,SAAiB,WAClCH,EAASI,MAE9B,CAEA,YAAMC,GACJ,MAAML,QAAiBC,MAAM,GAAGJ,KAAKD,YAErC,aADmBI,EAASI,MAE9B,CAEA,UAAME,CAAKC,GAQT,aAPuBN,MAAM,GAAGJ,KAAKD,YAAa,CAChDY,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUL,MAEPL,MAClB,CAEA,YAAM,CAAOW,GAIX,aAHuBZ,MAAM,GAAGJ,KAAKD,aAAaiB,IAAM,CACtDL,OAAQ,YAEMN,MAClB,EChCa,MAAMY,EACnB,WAAAnB,CAAYoB,GACVlB,KAAKkB,SAAWA,CAClB,CAEA,cAAOC,CAAQC,GACb,MAAO,wSAWT,CAEA,MAAAC,CAAOD,GACL,MAAME,EAAOL,EAAME,QAAQC,GAC3BpB,KAAKkB,SAASK,mBAAmB,aAAcD,EACjD,CAEA,SAAAE,GACgBxB,KAAKkB,SAASO,cAAc,kBACpCC,QACR,EC5BK,MAeMC,EAAkBC,IAC7B,OAAQA,GACN,IAAK,YACL,IAAK,YACL,IAAK,aACL,IAAK,YACL,IAAK,gBACL,IAAK,aACH,MAAO,QACT,QACE,MAAO,OACX,ECzBa,MAAMC,EACnB,uBAAOC,CAAiBC,GACtB,GAAkB,SAAdA,EAAKH,KAAiB,CACxB,MAAMI,EDJY,CAACC,IACvB,MAAMC,EAAMD,EAAKE,MAAM,KACvB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAIG,OAAQD,GAAK,EACnC,GAAIF,EAAIE,GAAGE,WAAW,YAAcJ,EAAIE,GAAGE,WAAW,YAAa,CACjE,MAAMC,EAAW,YAAYL,EAAIE,OAAOF,EAAIE,SAC5CF,EAAIE,GAAKG,CACX,CAEF,OAAOL,EAAIM,KAAK,IAAI,ECJMC,CAASV,EAAKE,MACpC,MAAO,CACLL,KAAMG,EAAKH,KACXc,QAAS,CACPT,KAAMD,GAGZ,CACA,MAAkB,UAAdD,EAAKH,MASS,SAAdG,EAAKH,KARA,CACLA,KAAMG,EAAKH,KACXc,QAAS,CACPT,KAAMF,EAAKY,KACXC,KAAMb,EAAKa,OAaV,WACT,CAEA,wBAAOC,CAAkBnC,GACvB,MAAM,QAAEgC,GAAYhC,EACpB,MAAO,yBACWA,EAAQM,iDACjB0B,EAAQT,qFAInB,CAEA,wBAAOa,CAAkBpC,GACvB,MAAM,QAAEgC,GAAYhC,EACpB,MAAO,0BACYgC,EAAQE,iBAAiBlC,EAAQM,oEACxB0B,EAAQT,yIAKtC,CAEA,uBAAOc,CAAiBrC,GACtB,MAAM,QAAEgC,GAAYhC,EACpB,MAAO,0BACYgC,EAAQE,iBAAiBlC,EAAQM,mEACxB0B,EAAQT,2CACTS,EAAQE,oFAIrC,CAEA,2BAAOI,CAAqBC,GAC1B,OAAIA,EACK,kNAOF,mIAKT,EC3Ea,MAAMC,EACnB,WAAApD,CAAYoB,GACVlB,KAAKkB,SAAWA,EAChBlB,KAAKmD,aAAe,IAAItB,CAC1B,CAEA,eAAWP,GACT,MAAO,sHAKT,CAEA,SAAA8B,GACE,MAAMC,EAASH,EAAK5B,KACpBtB,KAAKkB,SAASK,mBAAmB,aAAc8B,GAC/CrD,KAAKsD,QAAUtD,KAAKkB,SAASO,cAAc,iBAC3CzB,KAAKuD,MAAQ,IAAItC,EAAMuC,SAAS3C,MAEhCb,KAAKyD,YACP,CAEA,UAAAA,GACEzD,KAAK0D,YAAc1D,KAAK0D,YAAYC,KAAK3D,MACzCA,KAAK4D,WAAa5D,KAAK4D,WAAWD,KAAK3D,MAEvCA,KAAKsD,QAAQO,iBAAiB,YAAa7D,KAAK0D,aAChD1D,KAAKsD,QAAQO,iBAAiB,WAAY7D,KAAK4D,WACjD,CAEA,WAAAF,CAAYI,GACV9D,KAAKsD,QAAQS,UAAUrC,OAAO,SAChC,CAEA,UAAAkC,CAAWE,GACTA,EAAEE,iBACFhE,KAAKsD,QAAQS,UAAUE,IAAI,SAC7B,CAEA,KAAAC,GACmBlE,KAAKsD,QAAQa,iBAAiB,YACtCC,SAASC,GAAMA,EAAE3C,UAC5B,CAEA,MAAA4C,CAAOC,GACLvE,KAAKkE,QACLK,EAASH,SAAS1D,IAChB,IAAIY,EACiB,SAAjBZ,EAAQkB,OAAiBN,EAAOO,EAAagB,kBAAkBnC,IAC9C,SAAjBA,EAAQkB,OAAiBN,EAAOO,EAAaiB,kBAAkBpC,IAC9C,UAAjBA,EAAQkB,OAAkBN,EAAOO,EAAakB,iBAAiBrC,IACnEV,KAAKsD,QAAQ7B,cAAc,eAAeF,mBAAmB,cAAeD,EAAK,GAErF,ECzDa,MAAMkD,EACnB,WAAA1E,CAAYoB,GACVlB,KAAKkB,SAAWA,CAClB,CAEA,eAAWI,GACT,MAAO,8fAYT,CAEA,SAAA8B,GACE,MAAMC,EAASmB,EAAMlD,KACrBtB,KAAKkB,SAASK,mBAAmB,aAAc8B,GAC/CrD,KAAKsD,QAAUtD,KAAKkB,SAASO,cAAc,kBAC3CzB,KAAKyE,WAAazE,KAAKsD,QAAQ7B,cAAc,mBAC7CzB,KAAK0E,QAAU1E,KAAKsD,QAAQ7B,cAAc,YAE1CzB,KAAKyD,YACP,CAEA,UAAAA,GACEzD,KAAK2E,eAAiB3E,KAAK2E,eAAehB,KAAK3D,MAE/CA,KAAKyE,WAAWZ,iBAAiB,QAAS7D,KAAK2E,eACjD,CAEA,cAAAA,GACE3E,KAAK0E,QAAQX,UAAUa,OAAO,SAChC,ECtCa,MAAMC,EACnB,WAAA/E,CAAYoB,GACVlB,KAAKkB,SAAWA,CAClB,CAEA,eAAWI,GACT,MAAO,2tBAoBT,CAEA,SAAA8B,GACE,MAAMC,EAASwB,EAAUvD,KACzBtB,KAAKkB,SAASK,mBAAmB,aAAc8B,GAC/CrD,KAAKsD,QAAUtD,KAAKkB,SAASO,cAAc,sBAC3CzB,KAAK8E,aAAe9E,KAAKsD,QAAQ7B,cAAc,kBAC/CzB,KAAK+E,aAAe/E,KAAKsD,QAAQ7B,cAAc,kBAC/CzB,KAAKgF,aAAehF,KAAKsD,QAAQ7B,cAAc,kBAC/CzB,KAAKiF,YAAcjF,KAAKsD,QAAQ7B,cAAc,gBAChD,CAEA,UAAAgC,GACEzD,KAAKkF,kBAAoBlF,KAAKkF,kBAAkBvB,KAAK3D,MAErDA,KAAK+E,aAAalB,iBAAiB,SAAS,KAC1C7D,KAAKmF,UAAUC,cAAc,IAAIC,WAAW,SAAS,GAEzD,CAEA,iBAAAH,GACElF,KAAKiF,YAAYK,MAAQ,GACzBtF,KAAKiF,YAAYlB,UAAUa,OAAO,SACpC,EC5Ca,MAAMW,EACnB,WAAAzF,CAAYoB,GACVlB,KAAKkB,SAAWA,EAChBlB,KAAKwF,OAAS,IAAI3F,EAAO,yBACzBG,KAAKuE,SAAW,GAChBvE,KAAKyF,WAAY,CACnB,CAEA,eAAWnE,GACT,MAAO,oCACT,CAEA,SAAAoE,GACE,MAAMrC,EAASkC,EAAIjE,KACnBtB,KAAKkB,SAASK,mBAAmB,aAAc8B,GAC/CrD,KAAKsD,QAAUtD,KAAKkB,SAASO,cAAc,mBAE3CzB,KAAK2F,gBAAkB,IAAInB,EAAMxE,KAAKsD,SACtCtD,KAAK2F,gBAAgBvC,YAErBpD,KAAK4F,KAAO,IAAI1C,EAAKlD,KAAKsD,SAC1BtD,KAAK4F,KAAKxC,YAEVpD,KAAK6F,UAAY,IAAIhB,EAAU7E,KAAKsD,SACpCtD,KAAK6F,UAAUzC,YAEfpD,KAAK8F,eACL9F,KAAKyD,YACP,CAEA,YAAAqC,GACE9F,KAAK8E,aAAe9E,KAAKsD,QAAQ7B,cAAc,kBAC/CzB,KAAK+E,aAAe/E,KAAKsD,QAAQ7B,cAAc,kBAC/CzB,KAAKgF,aAAehF,KAAKsD,QAAQ7B,cAAc,kBAC/CzB,KAAKmF,UAAYnF,KAAKsD,QAAQ7B,cAAc,eAE5CzB,KAAK+F,SAAW/F,KAAKsD,QAAQ7B,cAAc,iBAC3CzB,KAAKgG,eAAiBhG,KAAKsD,QAAQ7B,cAAc,gBAEjDzB,KAAKiG,UAAYjG,KAAKsD,QAAQ7B,cAAc,kBAC5CzB,KAAKkG,YAAclG,KAAKsD,QAAQ7B,cAAc,iBAC9CzB,KAAKmG,UAAYnG,KAAKsD,QAAQ7B,cAAc,eAC5CzB,KAAKoG,aAAepG,KAAKsD,QAAQ7B,cAAc,kBAC/CzB,KAAKqG,QAAUrG,KAAKsD,QAAQ7B,cAAc,gBAC1CzB,KAAKsG,iBAAmBtG,KAAKsD,QAAQ7B,cAAc,qBACrD,CAEA,UAAAgC,GACEzD,KAAKuG,sBAAwBvG,KAAKuG,sBAAsB5C,KAAK3D,MAC7DA,KAAKwG,aAAexG,KAAKwG,aAAa7C,KAAK3D,MAC3CA,KAAKyG,kBAAoBzG,KAAKyG,kBAAkB9C,KAAK3D,MACrDA,KAAK0G,sBAAwB1G,KAAK0G,sBAAsB/C,KAAK3D,MAC7DA,KAAK2G,OAAS3G,KAAK2G,OAAOhD,KAAK3D,MAC/BA,KAAK4G,qBAAuB5G,KAAK4G,qBAAqBjD,KAAK3D,MAC3DA,KAAK2E,eAAiB3E,KAAK2E,eAAehB,KAAK3D,MAC/CA,KAAK6G,cAAgB7G,KAAK6G,cAAclD,KAAK3D,MAC7CA,KAAK8G,oBAAsB9G,KAAK8G,oBAAoBnD,KAAK3D,MACzDA,KAAK+G,aAAe/G,KAAK+G,aAAapD,KAAK3D,MAC3CA,KAAKgH,MAAQhH,KAAKgH,MAAMrD,KAAK3D,MAC7BA,KAAKiH,QAAUjH,KAAKiH,QAAQtD,KAAK3D,MACjCA,KAAKkH,mBAAqBlH,KAAKkH,mBAAmBvD,KAAK3D,MACvDA,KAAKmH,iBAAmBnH,KAAKmH,iBAAiBxD,KAAK3D,MAInDA,KAAK+E,aAAalB,iBAAiB,SAAS,KAC1C7D,KAAKmF,UAAUC,cAAc,IAAIC,WAAW,SAAS,IAEvDrF,KAAKmF,UAAUtB,iBAAiB,SAAU7D,KAAKuG,uBAC/CvG,KAAK8E,aAAajB,iBAAiB,QAAS7D,KAAK6G,eAEjDO,OAAOvD,iBAAiB,UAAW7D,KAAKiH,SACxCzD,SAASK,iBAAiB,mBAAoB7D,KAAKiH,SACnDjH,KAAKkG,YAAYrC,iBAAiB,SAAU7D,KAAK0G,uBACjD1G,KAAKkG,YAAYrC,iBAAiB,SAAU7D,KAAK0G,uBACjD1G,KAAKiG,UAAUpC,iBAAiB,SAAU7D,KAAKyG,mBAC/CzG,KAAKkG,YAAYrC,iBAAiB,OAAQ7D,KAAK2G,QAC/C3G,KAAKsD,QAAQO,iBAAiB,QAAS7D,KAAK4G,sBAE5C5G,KAAKgG,eAAenC,iBAAiB,QAAS7D,KAAKkH,mBAErD,CAEA,KAAAF,GACEK,aAAaC,QAAQ,WAAYxG,KAAKC,UAAUf,KAAKuE,UACvD,CAEA,OAAA0C,GACEjH,KAAKuE,SAAWzD,KAAKyG,MAAMF,aAAaG,QAAQ,aAChDxH,KAAK4F,KAAKtB,OAAOtE,KAAKuE,SACxB,CAEA,kBAAMiC,GACJxG,KAAKyF,WAAY,EACjB,MAAM1D,QAAa/B,KAAKwF,OAAOvF,IAAID,KAAKuE,SAASlC,QAC5CN,IACL/B,KAAKuE,SAAW,IAAIvE,KAAKuE,YAAaxC,GACtC/B,KAAKgH,QACLhH,KAAK4F,KAAKtB,OAAOtE,KAAKuE,UACtBkD,YAAW,KACTzH,KAAKyF,WAAY,CAAK,GACrB,KACL,CAEA,qBAAAiB,GACoBlD,SAASkE,eAAe,cAC5BC,wBAAwBC,QAAU,MAAQ5H,KAAKyF,WAC3DzF,KAAKwG,cAET,CAEA,kBAAMO,CAAarG,GAAU,GAC3B,GAAIA,EAAS,CACX,MAAMmH,QAAmB7H,KAAKwF,OAAOhF,SACrC,IAAKqH,EAAY,OACjB7H,KAAKuE,SAAW,CAACsD,KAAe7H,KAAKuE,SACvC,CACAvE,KAAKgH,QACLhH,KAAK4F,KAAKtB,OAAOtE,KAAKuE,SACxB,CAEA,aAAAsC,GACE7G,KAAK6F,UAAUX,oBACf,MAAMD,EAAcjF,KAAKsG,iBAAiB7E,cAAc,iBACxDwD,EAAY6C,QACR7C,EAAYlB,UAAUgE,SAAS,WACjC/H,KAAK4F,KAAKtB,OAAOtE,KAAKuE,UAExBU,EAAYpB,iBAAiB,QAAS7D,KAAK8G,qBAC3CM,OAAOvD,iBAAiB,WAAYC,IACnB,WAAXA,EAAEkE,OACNhI,KAAK6F,UAAUX,oBACflF,KAAK4F,KAAKtB,OAAOtE,KAAKuE,UAAS,GAEnC,CAEA,mBAAAuC,CAAoBhD,GAClB,MAAM7B,EAAO6B,EAAEmE,OAAO3C,MAAM4C,cACvBjG,EAAKkG,QACRnI,KAAK4F,KAAKtB,OAAOtE,KAAKuE,UAExB,MAAM6D,EAASpI,KAAKuE,SAAS8D,QAAQhE,GAAMA,EAAE3B,QAAQT,KAAKiG,cAAcI,SAASrG,KACjFjC,KAAK4F,KAAKtB,OAAO8D,EACnB,CAEA,MAAAzB,CAAO7C,GACLA,EAAEE,iBACFhE,KAAKkG,YAAYnC,UAAUrC,OAAO,UAClC,MAAM6G,EAAOzE,EAAE0E,aAAaC,OAAS3E,EAAE0E,aAAaC,MAAM,GAEpD7G,EAAOD,EAAe4G,EAAK3G,MAE3B8G,EAAS,IAAIC,WACnBD,EAAOE,cAAcL,GACrBG,EAAO7E,iBAAiB,QAAQgF,MAAOC,IACrC,MAAMlG,EAAOkG,EAAGb,OAAOG,OACjBrG,EAAO,CAAEH,OAAMe,KAAM4F,EAAK5F,KAAMC,QAChClC,EAAUmB,EAAaC,iBAAiBC,GAE/B,YADM/B,KAAKwF,OAAO/E,KAAKC,IAEpCV,KAAK+G,cAAa,EACpB,GAEJ,CAEA,qBAAAR,GACE,MAAMgC,EAAOvI,KAAKmF,UAAUsD,OAASzI,KAAKmF,UAAUsD,MAAM,GAC1D,IAAKF,EAAM,OAEX,MAAM3G,EAAOD,EAAe4G,EAAK3G,MAE3B8G,EAAS,IAAIC,WACnBD,EAAOE,cAAcL,GACrBG,EAAO7E,iBAAiB,QAAQgF,MAAO/E,IACrC,MAAMlB,EAAOkB,EAAEmE,OAAOG,OAChBrG,EAAO,CAAEH,OAAMe,KAAM4F,EAAK5F,KAAMC,QAChClC,EAAUmB,EAAaC,iBAAiBC,GAE/B,YADM/B,KAAKwF,OAAO/E,KAAKC,IAEpCV,KAAK+G,cAAa,EACpB,GAEJ,CAEA,uBAAMN,CAAkB3C,GACtBA,EAAEE,iBACF,MAAM/B,EAAOjC,KAAKsD,QAAQ7B,cAAc,UAAU6D,MAClD,IAAKrD,EAAKkG,OAAQ,OAClB,GAAIlG,EAAKkG,OAAO7F,WAAW,aAGzB,OAFAtC,KAAK+I,qBAAqB9G,QAC1BjC,KAAKiG,UAAU+C,QAGjB,MAAMjH,EAAO,CAAEH,KAAM,OAAQK,QACvBvB,EAAUmB,EAAaC,iBAAiBC,GAE/B,YADM/B,KAAKwF,OAAO/E,KAAKC,KAEpCV,KAAKiG,UAAU+C,QACfhJ,KAAK+G,cAAa,GAEtB,CAEA,oBAAAH,CAAqB9C,GACnB,GAAIA,EAAEmE,OAAOlE,UAAUgE,SAAS,wBAC3BjE,EAAEmE,OAAOgB,QAAQ,YAAYlF,UAAUgE,SAAS,UAAW,CAC9D,MAAMrH,EAAUoD,EAAEmE,OAAOgB,QAAQ,YAIjC,OAHAvI,EAAQqD,UAAUrC,OAAO,UACzBhB,EAAQe,cAAc,4BAA4ByH,oBAAoB,QAASlJ,KAAK2E,qBACpFjE,EAAQe,cAAc,4BAA4BC,QAEpD,CAEA,MAAM6C,EAAW,IAAIvE,KAAKkG,YAAY/B,iBAAiB,aACvD,GAAKI,EAASlC,SACdkC,EAASH,SAASC,IAChBA,EAAEN,UAAUrC,OAAO,UACnB,MAAMgD,EAAUL,EAAE5C,cAAc,4BAC5BiD,IACFA,EAAQwE,oBAAoB,QAASlJ,KAAK2E,gBAC1CD,EAAQhD,SACV,IAGEoC,EAAEmE,OAAOlE,UAAUgE,SAAS,wBAAwB,CACtD,MAAMrH,EAAUoD,EAAEmE,OAAOgB,QAAQ,YACjC,IAAI3H,EAEFA,EADEZ,EAAQqD,UAAUgE,SAAS,gBACtBlG,EAAamB,sBAAqB,GAElCnB,EAAamB,sBAAqB,GAE3CtC,EAAQqD,UAAUE,IAAI,UACtBvD,EAAQa,mBAAmB,YAAaD,GACxBZ,EAAQe,cAAc,4BAC9BoC,iBAAiB,QAAS7D,KAAK2E,eACzC,CACF,CAEA,oBAAMA,CAAeb,GACnB,MAAM9C,EAAK8C,EAAEmE,OAAOgB,QAAQ,YAAYE,aAAa,WACrD,GAAIrF,EAAEmE,OAAOlE,UAAUgE,SAAS,2BAEf,YADM/H,KAAKwF,OAAO4D,OAAOpI,GACpB,CAClB,MAAMqI,EAAYrJ,KAAKuE,SAAS+E,WAAWjF,GAAMA,EAAErD,KAAOuI,OAAOvI,KACjEhB,KAAKuE,SAASiF,OAAOH,EAAW,GAChCrJ,KAAK+G,cACP,CAEEjD,EAAEmE,OAAOlE,UAAUgE,SAAS,6BLjOR,EAAC0B,EAASC,KACpC,MAAM9G,EAAOY,SAASmG,cAAc,KACpC/G,EAAKgH,KAAOH,EACZ7G,EAAKiH,IAAM,WACXjH,EAAKkH,SAAWJ,EAChB9G,EAAKmH,OAAO,EK+NRC,CAFgBlG,EAAEmE,OAAOgB,QAAQ,YAAYE,aAAa,aACzCrF,EAAEmE,OAAOgB,QAAQ,YAAYxH,cAAc,cAAcwI,YAG9E,CAEA,kBAAA/C,GACMgD,UAAUC,aACZD,UAAUC,YAAYC,oBAAoBrI,IACxC/B,KAAKmH,iBAAiBpF,EAAK,IACzBsI,IACFC,QAAQC,IAAIF,EAAM,GACjB,CAAEG,oBAAoB,GAE7B,CAEA,sBAAMrD,CAAiBpF,GACrB,MAAM,SAAE0I,EAAQ,UAAEC,SAAoB3I,EAAK4I,OACrCC,EAAM,CAAEhJ,KAAM,OAAQK,KAAM,GAAGwI,MAAaC,KAC5ChK,EAAUmB,EAAaC,iBAAiB8I,GAE/B,YADM5K,KAAKwF,OAAO/E,KAAKC,KAEpCV,KAAKiG,UAAU+C,QACfhJ,KAAK+G,cAAa,GAEtB,ECtRU,IAAIxB,EAAI/B,SAASkE,eAAe,SACxChC,W","sources":["webpack://chaos-organizer/./src/components/server/Server.js","webpack://chaos-organizer/./src/components/popup/Popup.js","webpack://chaos-organizer/./src/components/handlers.js","webpack://chaos-organizer/./src/components/desk/MessageMaker.js","webpack://chaos-organizer/./src/components/desk/Desk.js","webpack://chaos-organizer/./src/components/input/Input.js","webpack://chaos-organizer/./src/components/organizer/Organizer.js","webpack://chaos-organizer/./src/components/app/App.js","webpack://chaos-organizer/./src/js/app.js"],"sourcesContent":["export default class Server {\n  constructor(url) {\n    this.url = url;\n  }\n\n  async get(startingIndex) {\n    const response = await fetch(`${this.url}/notes/?startingIndex=${startingIndex}`);\n    if (response.status === 400 || this.finished) return null;\n    const data = await response.json();\n    return data;\n  }\n\n  async getNew() {\n    const response = await fetch(`${this.url}/note`);\n    const data = await response.json();\n    return data;\n  }\n\n  async post(message) {\n    const response = await fetch(`${this.url}/notes`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(message),\n    });\n    return response.status;\n  }\n\n  async delete(id) {\n    const response = await fetch(`${this.url}/notes/${id}`, {\n      method: 'DELETE',\n    });\n    return response.status;\n  }\n}\n","import './popup.css';\n\nexport default class Popup {\n  constructor(parentEl) {\n    this.parentEl = parentEl;\n  }\n\n  static getHTML(title) {\n    return `\n      <dialog class=\"popup\">\n        <div class=\"popup-wrapper\">\n          <h3 class=\"popup-title\"></h3>\n          <div class=\"popup-buttons\">\n            <button class=\"yes\">Yes</button>\n            <button class=\"no\">No</button>\n          </div>\n        </div>\n      </dialog>\n    `;\n  }\n\n  showUp(title) {\n    const html = Popup.getHTML(title);\n    this.parentEl.insertAdjacentHTML('afterbegin', html);\n  }\n\n  closeDown() {\n    const popup = this.parentEl.querySelector('.popup-wrapper');\n    popup.remove();\n  }\n}\n","// defines links and wrappes them\nexport const getLinks = (text) => {\n  const arr = text.split(' ');\n  for (let i = 0; i < arr.length; i += 1) {\n    if (arr[i].startsWith('http://') || arr[i].startsWith('https://')) {\n      const withLink = `<a href=\"${arr[i]}\">${arr[i]}</a>`;\n      arr[i] = withLink;\n    }\n  }\n  return arr.join(' ');\n};\n\nexport const ds = (t) => {\n  console.log(t);\n};\n\nexport const defineFileType = (type) => {\n  switch (type) {\n    case 'image/bmp':\n    case 'image/gif':\n    case 'image/jpeg':\n    case 'image/png':\n    case 'image/svg+xml':\n    case 'image/tiff':\n      return 'image';\n    default:\n      return 'file';\n  }\n};\n\nexport const downloadFile = (linkSrc, fileName) => {\n  const link = document.createElement('a');\n  link.href = linkSrc;\n  link.rel = 'noopener';\n  link.download = fileName;\n  link.click();\n};\n","import { getLinks } from '../handlers';\n\nexport default class MessageMaker {\n  static createMessageObj(data) {\n    if (data.type === 'text') {\n      const textWithLinks = getLinks(data.text);\n      return {\n        type: data.type,\n        content: {\n          text: textWithLinks,\n        },\n      };\n    }\n    if (data.type === 'image') {\n      return {\n        type: data.type,\n        content: {\n          text: data.name,\n          link: data.link,\n        },\n      };\n    }\n    if (data.type === 'file') {\n      return {\n        type: data.type,\n        content: {\n          text: data.name,\n          link: data.link,\n        },\n      };\n    }\n    return 'undefined';\n  }\n\n  static createTextMessage(message) {\n    const { content } = message;\n    return `\n      <div data-id=\"${message.id}\" class=\"text-message message\">\n        <p>${content.text}</p>\n        <button class=\"message-options-btn\"></button>\n      </div>\n    `;\n  }\n\n  static createFileMessage(message) {\n    const { content } = message;\n    return `\n      <div data-link=${content.link} data-id=\"${message.id}\" class=\"file-message message\">\n        <h5 class='file-name'>${content.text}</h5>\n        <img src='../../../icons8-file-80.png' />\n        <button class=\"message-options-btn\"></button>\n      </div>\n    `;\n  }\n\n  static createImgMessage(message) {\n    const { content } = message;\n    return `\n      <div data-link=${content.link} data-id=\"${message.id}\" class=\"img-message message\">\n        <h5 class='file-name'>${content.text}</h5>\n        <img class=\"src\" src=${content.link} />\n        <button class=\"message-options-btn\"></button>\n      </div>\n    `;\n  }\n\n  static createMessageOptions(withDownload) {\n    if (withDownload) {\n      return `\n        <div class=\"message-options-wrapper\">\n          <button class=\"message-options-delete\">Delete</button>\n          <button class=\"message-options-download\">Download</button>\n        </div>\n      `;\n    }\n    return `\n      <div class=\"message-options-wrapper\">\n        <button class=\"message-options-delete\">Delete</button>\n      </div>\n    `;\n  }\n}\n","import { defineFileType } from '../handlers';\nimport Popup from '../popup/Popup';\nimport MessageMaker from './MessageMaker';\nimport './desk.css';\n\nexport default class Desk {\n  constructor(parentEl) {\n    this.parentEl = parentEl;\n    this.messageMaker = new MessageMaker();\n  }\n\n  static get html() {\n    return `\n        <div class=\"desk-wrapper\">\n          <div id=\"top-scroll\" class=\"top-scroll\"></div>\n        </div>\n    `;\n  }\n\n  bindToDOM() {\n    const layout = Desk.html;\n    this.parentEl.insertAdjacentHTML('afterbegin', layout);\n    this.wrapper = this.parentEl.querySelector('.desk-wrapper');\n    this.popup = new Popup(document.body);\n\n    this.bindEvents();\n  }\n\n  bindEvents() {\n    this.onDragLeave = this.onDragLeave.bind(this);\n    this.onDragOver = this.onDragOver.bind(this);\n\n    this.wrapper.addEventListener('dragleave', this.onDragLeave);\n    this.wrapper.addEventListener('dragover', this.onDragOver);\n  }\n\n  onDragLeave(e) {\n    this.wrapper.classList.remove('ondrag');\n  }\n\n  onDragOver(e) {\n    e.preventDefault();\n    this.wrapper.classList.add('ondrag');\n  }\n\n  clear() {\n    const rendered = this.wrapper.querySelectorAll('.message');\n    rendered.forEach((m) => m.remove());\n  }\n\n  render(messages) {\n    this.clear();\n    messages.forEach((message) => {\n      let html;\n      if (message.type === 'text') html = MessageMaker.createTextMessage(message);\n      if (message.type === 'file') html = MessageMaker.createFileMessage(message);\n      if (message.type === 'image') html = MessageMaker.createImgMessage(message);\n      this.wrapper.querySelector('.top-scroll').insertAdjacentHTML('beforebegin', html);\n    });\n  }\n}\n","import './input.css';\n\nexport default class Input {\n  constructor(parentEl) {\n    this.parentEl = parentEl;\n  }\n\n  static get html() {\n    return `\n      <form class=\"input-wrapper\">\n        <button type=\"button\" class=\"emoji-button\"></button>\n        <textarea class=\"input\" rows=\"5\" placeholder=\"Type here\"></textarea>\n        <button type=\"button\" class=\"options-button\"></button>\n        <button type=\"submit\" class=\"send-button\"></button>\n        <div class=\"options hidden\">\n          <button class=\"geolocation\">Send Geolocation</button>\n          <button class=\"notification\">Send Notification</button>\n        </div>\n      </form>\n    `;\n  }\n\n  bindToDOM() {\n    const layout = Input.html;\n    this.parentEl.insertAdjacentHTML('afterbegin', layout);\n    this.wrapper = this.parentEl.querySelector('.input-wrapper');\n    this.optionsBtn = this.wrapper.querySelector('.options-button');\n    this.options = this.wrapper.querySelector('.options');\n\n    this.bindEvents();\n  }\n\n  bindEvents() {\n    this.onOptionsClick = this.onOptionsClick.bind(this);\n\n    this.optionsBtn.addEventListener('click', this.onOptionsClick);\n  }\n\n  onOptionsClick() {\n    this.options.classList.toggle('hidden');\n  }\n}\n","import './organizer.css';\n\nexport default class Organizer {\n  constructor(parentEl) {\n    this.parentEl = parentEl;\n  }\n\n  static get html() {\n    return `\n      <div class=\"organizer-wrapper\">\n        <div class=\"logo\">\n          <h2 class=\"logo-text\">Chaos Organizer</h2>\n        </div>\n        <input name=\"search-input\" class=\"search-input hidden\" placeholder=\"Type your query here\" />\n        <div class=\"buttons-wrapper\">\n          <div class=\"button-container\">\n            <button class=\"search-button\"></button>\n          </div>\n          <div class=\"button-container\">\n            <button class=\"attach-button\"></button>\n            <input type=\"file\" name=\"file\" class=\"file-input\" id=\"file\" />\n          </div>\n          <div class=\"button-container\">\n            <button class=\"others-button\"></button>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  bindToDOM() {\n    const layout = Organizer.html;\n    this.parentEl.insertAdjacentHTML('afterbegin', layout);\n    this.wrapper = this.parentEl.querySelector('.organizer-wrapper');\n    this.searchButton = this.wrapper.querySelector('.search-button');\n    this.attachButton = this.wrapper.querySelector('.attach-button');\n    this.othersButton = this.wrapper.querySelector('.others-button');\n    this.searchInput = this.wrapper.querySelector('.search-input');\n  }\n\n  bindEvents() {\n    this.toggleSearchInput = this.toggleSearchInput.bind(this);\n\n    this.attachButton.addEventListener('click', () => {\n      this.fileInput.dispatchEvent(new MouseEvent('click'));\n    });\n  }\n\n  toggleSearchInput() {\n    this.searchInput.value = '';\n    this.searchInput.classList.toggle('hidden');\n  }\n}\n","import Server from '../server/Server';\nimport Desk from '../desk/Desk';\nimport Input from '../input/Input';\nimport Organizer from '../organizer/Organizer';\nimport { defineFileType, downloadFile } from '../handlers';\nimport MessageMaker from '../desk/MessageMaker';\n\nexport default class App {\n  constructor(parentEl) {\n    this.parentEl = parentEl;\n    this.server = new Server('http://localhost:7070');\n    this.messages = [];\n    this.isLoading = false;\n  }\n\n  static get html() {\n    return '<div class=\"common-wrapper\"></div>';\n  }\n\n  bindToDom() {\n    const layout = App.html;\n    this.parentEl.insertAdjacentHTML('afterbegin', layout);\n    this.wrapper = this.parentEl.querySelector('.common-wrapper');\n\n    this.inputController = new Input(this.wrapper);\n    this.inputController.bindToDOM();\n\n    this.desk = new Desk(this.wrapper);\n    this.desk.bindToDOM();\n\n    this.organizer = new Organizer(this.wrapper);\n    this.organizer.bindToDOM();\n\n    this.bindElements();\n    this.bindEvents();\n  }\n\n  bindElements() {\n    this.searchButton = this.wrapper.querySelector('.search-button');\n    this.attachButton = this.wrapper.querySelector('.attach-button');\n    this.othersButton = this.wrapper.querySelector('.others-button');\n    this.fileInput = this.wrapper.querySelector('.file-input');\n\n    this.emojiBtn = this.wrapper.querySelector('.emoji-button');\n    this.geolocationBtn = this.wrapper.querySelector('.geolocation');\n    // this.notificationBtn = this.wrapper.querySelector('.notification');\n    this.inputForm = this.wrapper.querySelector('.input-wrapper');\n    this.deskWrapper = this.wrapper.querySelector('.desk-wrapper');\n    this.topScroll = this.wrapper.querySelector('.top-scroll');\n    this.bottomScroll = this.wrapper.querySelector('.bottom-scroll');\n    this.sendBtn = this.wrapper.querySelector('.send-button');\n    this.organizerWrapper = this.wrapper.querySelector('.organizer-wrapper');\n  }\n\n  bindEvents() {\n    this.handleFileInputChange = this.handleFileInputChange.bind(this);\n    this.loadOnScroll = this.loadOnScroll.bind(this);\n    this.handleSendMessage = this.handleSendMessage.bind(this);\n    this.checkLoadingNecessity = this.checkLoadingNecessity.bind(this);\n    this.onDrop = this.onDrop.bind(this);\n    this.toggleMessageOptions = this.toggleMessageOptions.bind(this);\n    this.onOptionsClick = this.onOptionsClick.bind(this);\n    this.onSearchClick = this.onSearchClick.bind(this);\n    this.onSearchInputChange = this.onSearchInputChange.bind(this);\n    this.loadOnChange = this.loadOnChange.bind(this);\n    this.store = this.store.bind(this);\n    this.restore = this.restore.bind(this);\n    this.onGeolocationClick = this.onGeolocationClick.bind(this);\n    this.handleSendCoords = this.handleSendCoords.bind(this);\n    // this.onNotificationClick = this.onNotificationClick.bind(this);\n    // this.scheduleNotification = this.scheduleNotification.bind(this);\n\n    this.attachButton.addEventListener('click', () => {\n      this.fileInput.dispatchEvent(new MouseEvent('click'));\n    });\n    this.fileInput.addEventListener('change', this.handleFileInputChange);\n    this.searchButton.addEventListener('click', this.onSearchClick);\n\n    window.addEventListener('storage', this.restore);\n    document.addEventListener('DOMContentLoaded', this.restore);\n    this.deskWrapper.addEventListener('scroll', this.checkLoadingNecessity);\n    this.deskWrapper.addEventListener('resize', this.checkLoadingNecessity);\n    this.inputForm.addEventListener('submit', this.handleSendMessage);\n    this.deskWrapper.addEventListener('drop', this.onDrop);\n    this.wrapper.addEventListener('click', this.toggleMessageOptions);\n\n    this.geolocationBtn.addEventListener('click', this.onGeolocationClick);\n    // this.notificationBtn.addEventListener('click', this.onNotificationClick);\n  }\n\n  store() {\n    localStorage.setItem('messages', JSON.stringify(this.messages));\n  }\n\n  restore() {\n    this.messages = JSON.parse(localStorage.getItem('messages'));\n    this.desk.render(this.messages);\n  }\n\n  async loadOnScroll() {\n    this.isLoading = true;\n    const data = await this.server.get(this.messages.length);\n    if (!data) return;\n    this.messages = [...this.messages, ...data];\n    this.store();\n    this.desk.render(this.messages);\n    setTimeout(() => {\n      this.isLoading = false;\n    }, 500);\n  }\n\n  checkLoadingNecessity() {\n    const topScroll = document.getElementById('top-scroll');\n    if (topScroll.getBoundingClientRect().bottom > -100 && !this.isLoading) {\n      this.loadOnScroll();\n    }\n  }\n\n  async loadOnChange(message = false) {\n    if (message) {\n      const newMessage = await this.server.getNew();\n      if (!newMessage) return;\n      this.messages = [newMessage, ...this.messages];\n    }\n    this.store();\n    this.desk.render(this.messages);\n  }\n\n  onSearchClick() {\n    this.organizer.toggleSearchInput();\n    const searchInput = this.organizerWrapper.querySelector('.search-input');\n    searchInput.focus();\n    if (searchInput.classList.contains('hidden')) {\n      this.desk.render(this.messages);\n    }\n    searchInput.addEventListener('input', this.onSearchInputChange);\n    window.addEventListener('keydown', (e) => {\n      if (e.code !== 'Escape') return;\n      this.organizer.toggleSearchInput();\n      this.desk.render(this.messages);\n    });\n  }\n\n  onSearchInputChange(e) {\n    const text = e.target.value.toLowerCase();\n    if (!text.trim()) {\n      this.desk.render(this.messages);\n    }\n    const result = this.messages.filter((m) => m.content.text.toLowerCase().includes(text));\n    this.desk.render(result);\n  }\n\n  onDrop(e) {\n    e.preventDefault();\n    this.deskWrapper.classList.remove('ondrag');\n    const file = e.dataTransfer.files && e.dataTransfer.files[0];\n\n    const type = defineFileType(file.type);\n\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.addEventListener('load', async (ev) => {\n      const link = ev.target.result;\n      const data = { type, name: file.name, link };\n      const message = MessageMaker.createMessageObj(data);\n      const status = await this.server.post(message);\n      if (status === 204) {\n        this.loadOnChange(true);\n      }\n    });\n  }\n\n  handleFileInputChange() {\n    const file = this.fileInput.files && this.fileInput.files[0];\n    if (!file) return;\n\n    const type = defineFileType(file.type);\n\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.addEventListener('load', async (e) => {\n      const link = e.target.result;\n      const data = { type, name: file.name, link };\n      const message = MessageMaker.createMessageObj(data);\n      const status = await this.server.post(message);\n      if (status === 204) {\n        this.loadOnChange(true);\n      }\n    });\n  }\n\n  async handleSendMessage(e) {\n    e.preventDefault();\n    const text = this.wrapper.querySelector('.input').value;\n    if (!text.trim()) return;\n    if (text.trim().startsWith('@schedule')) {\n      this.scheduleNotification(text);\n      this.inputForm.reset();\n      return;\n    }\n    const data = { type: 'text', text };\n    const message = MessageMaker.createMessageObj(data);\n    const status = await this.server.post(message);\n    if (status === 204) {\n      this.inputForm.reset();\n      this.loadOnChange(true);\n    }\n  }\n\n  toggleMessageOptions(e) {\n    if (e.target.classList.contains('message-options-btn')\n      && e.target.closest('.message').classList.contains('onedit')) {\n      const message = e.target.closest('.message');\n      message.classList.remove('onedit');\n      message.querySelector('.message-options-wrapper').removeEventListener('click', this.onOptionsClick);\n      message.querySelector('.message-options-wrapper').remove();\n      return;\n    }\n\n    const messages = [...this.deskWrapper.querySelectorAll('.message')];\n    if (!messages.length) return;\n    messages.forEach((m) => {\n      m.classList.remove('onedit');\n      const options = m.querySelector('.message-options-wrapper');\n      if (options) {\n        options.removeEventListener('click', this.onOptionsClick);\n        options.remove();\n      }\n    });\n\n    if (e.target.classList.contains('message-options-btn')) {\n      const message = e.target.closest('.message');\n      let html;\n      if (message.classList.contains('text-message')) {\n        html = MessageMaker.createMessageOptions(false);\n      } else {\n        html = MessageMaker.createMessageOptions(true);\n      }\n      message.classList.add('onedit');\n      message.insertAdjacentHTML('beforeend', html);\n      const options = message.querySelector('.message-options-wrapper');\n      options.addEventListener('click', this.onOptionsClick);\n    }\n  }\n\n  async onOptionsClick(e) {\n    const id = e.target.closest('.message').getAttribute('data-id');\n    if (e.target.classList.contains('message-options-delete')) {\n      const status = await this.server.delete(id);\n      if (status === 204) {\n        const deletable = this.messages.findIndex((m) => m.id === Number(id));\n        this.messages.splice(deletable, 1);\n        this.loadOnChange();\n      }\n    }\n    if (e.target.classList.contains('message-options-download')) {\n      const linkSrc = e.target.closest('.message').getAttribute('data-link');\n      const fileName = e.target.closest('.message').querySelector('.file-name').textContent;\n      downloadFile(linkSrc, fileName);\n    }\n  }\n\n  onGeolocationClick() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition((data) => {\n        this.handleSendCoords(data);\n      }, (error) => {\n        console.log(error);\n      }, { enableHighAccuracy: true });\n    }\n  }\n\n  async handleSendCoords(data) {\n    const { latitude, longitude } = await data.coords;\n    const geo = { type: 'text', text: `${latitude}, ${longitude}` };\n    const message = MessageMaker.createMessageObj(geo);\n    const status = await this.server.post(message);\n    if (status === 204) {\n      this.inputForm.reset();\n      this.loadOnChange(true);\n    }\n  }\n  //\n  // async scheduleNotification(text) {\n  //   if (Notification.permission === 'granted') {\n  //     this.showNotification(text);\n  //     return;\n  //   }\n  //   if (Notification.permission === 'default') {\n  //     const permission = await Notification.requestPermission();\n  //     if (permission) {\n  //       this.showNotification(text);\n  //     }\n  //   }\n  // }\n\n  // showNotification(text) {\n  //   const notification = new Notification(text, {\n  //     body: 'Chaos Organizer',\n  //     requireInteraction: true,\n  //   });\n  //   console.log(this);\n  // }\n}\n","import '../css/style.css';\nimport App from '../components/app/App';\n\nconst app = new App(document.getElementById('root'));\napp.bindToDom();\n"],"names":["Server","constructor","url","this","get","startingIndex","response","fetch","status","finished","json","getNew","post","message","method","headers","body","JSON","stringify","id","Popup","parentEl","getHTML","title","showUp","html","insertAdjacentHTML","closeDown","querySelector","remove","defineFileType","type","MessageMaker","createMessageObj","data","textWithLinks","text","arr","split","i","length","startsWith","withLink","join","getLinks","content","name","link","createTextMessage","createFileMessage","createImgMessage","createMessageOptions","withDownload","Desk","messageMaker","bindToDOM","layout","wrapper","popup","document","bindEvents","onDragLeave","bind","onDragOver","addEventListener","e","classList","preventDefault","add","clear","querySelectorAll","forEach","m","render","messages","Input","optionsBtn","options","onOptionsClick","toggle","Organizer","searchButton","attachButton","othersButton","searchInput","toggleSearchInput","fileInput","dispatchEvent","MouseEvent","value","App","server","isLoading","bindToDom","inputController","desk","organizer","bindElements","emojiBtn","geolocationBtn","inputForm","deskWrapper","topScroll","bottomScroll","sendBtn","organizerWrapper","handleFileInputChange","loadOnScroll","handleSendMessage","checkLoadingNecessity","onDrop","toggleMessageOptions","onSearchClick","onSearchInputChange","loadOnChange","store","restore","onGeolocationClick","handleSendCoords","window","localStorage","setItem","parse","getItem","setTimeout","getElementById","getBoundingClientRect","bottom","newMessage","focus","contains","code","target","toLowerCase","trim","result","filter","includes","file","dataTransfer","files","reader","FileReader","readAsDataURL","async","ev","scheduleNotification","reset","closest","removeEventListener","getAttribute","delete","deletable","findIndex","Number","splice","linkSrc","fileName","createElement","href","rel","download","click","downloadFile","textContent","navigator","geolocation","getCurrentPosition","error","console","log","enableHighAccuracy","latitude","longitude","coords","geo"],"sourceRoot":""}